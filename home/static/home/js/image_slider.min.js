$(document).ready(function(){function f(d){d=void 0===d?{year:h.text(),page:c.val(),per_page:768>a?1:768<=a&&992>a?2:3}:d;var b=$("#imageSlider").width();$.ajax("/image_slider/",{data:{year:h.text(),page:c.val(),per_page:768>a?1:768<=a&&992>a?2:3},statusCode:{204:function(){$("#imageSlider .images").effect("shake");var d=c.val();c.val(0<d-1?--d:1)}},success:function(d){var a=$("#imageSlider .images");if(g){a.append(d);var c=a.children(".is-row:not(:last-child)");a=a.children(".is-row:not(:first-child)");
c.animate({left:"-"+b+"px"},1E3);a.css("left",b+"px").animate({left:"0px"},1E3);setTimeout(function(){c.remove()},1E3)}else{a.prepend(d);d=a.children(".is-row:not(:last-child)");var e=a.children(".is-row:not(:first-child)");d.css("left","-"+b+"px").animate({left:"0px"},1E3);e.animate({left:b+"px"},1E3);setTimeout(function(){e.remove()},1E3)}}})}function m(){a=$(window).width();return 992<=a?"lg-xl":768<=a?"md":"xs-sm"}function q(){k?l.animate({height:"2rem"},500):(n.show(),l.animate({height:"15.75rem"},
500));var a=$("#imageSlider .dropdown .chevron");setTimeout(function(){k?(a.html('<i class="fa fa-chevron-down" aria-hidden="true"></i>'),n.hide()):a.html('<i class="fa fa-chevron-up" aria-hidden="true"></i>');k=!k},500)}var a=$(window).width(),g=!0,h=$("#imageSlider .year"),c=$('#imageSlider input[name="page"]');f();var p=m(),b=!0;$(window).on("resize orientationchange",function(){var a=m();p!==a&&b&&(b=!1,g=!0,c.val(1),f(),setTimeout(function(){b=!0;p=a;a=m()},1E3));p=a});var e=1;$("#imageSlider .nav-left").click(function(){b&&
(b=!1,setTimeout(function(){b=!0},1E3),g=!1,e=Number(c.val()),1===e?$("#imageSlider .images").effect("shake"):(c.val(0<e-1?--e:1),f({year:h.text(),page:e,per_page:768>a?1:768<=a&&992>a?2:3})))});$("#imageSlider .nav-right").click(function(){b&&(b=!1,setTimeout(function(){b=!0},1E3),g=!0,e=c.val(),c.val(++e),f({year:h.text(),page:e,per_page:768>a?1:768<=a&&992>a?2:3}))});var k=!1,l=$("#imageSlider .dropdown"),n=l.children(".scroll");l.children(".header").click(q);n.children("li").click(function(a){a.stopPropagation();
a=$(this).text();$("#imageSlider .dropdown .year").html(a);g=!0;c.val(1);q();f()})});
